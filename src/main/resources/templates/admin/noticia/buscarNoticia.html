<!DOCTYPE html>
<html lang="pt" layout:decorate="~{layouts/layout}">

<head>
	<link rel="stylesheet" href="../../../static/css/style.css">

	<style>
		.img-outra-noticia {
			opacity: 1.0;
		}

		.img-outra-noticia:hover {
			opacity: 0.2;
			cursor: pointer;
		}
	</style>
</head>

<body>

	<section layout:fragment="corpo">

		<nav style="--bs-breadcrumb-divider: url(&#34;data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='8' height='8'%3E%3Cpath d='M2.5 0L1 1.5 3.5 4 1 6.5 2.5 8l4-4-4-4z' fill='currentColor'/%3E%3C/svg%3E&#34;);"
			aria-label="breadcrumb" class="w-100">
			<div class="container">
				<ol class="breadcrumb py-3">
					<li class="breadcrumb-item"><a class="text-decoration-none " href="/publico/home">In√≠cio</a></li>
					<li class="breadcrumb-item active" aria-current="page" th:text="${noticia.titulo}">noticia</li>
				</ol>
			</div>
		</nav>

		<div class="container mt-2">
			<div class="row" th:if="${noticia} != null">
				<div class="col-lg-9 d-flex justify-content-center">
					<div class="card">
						<img th:if="${noticia.foto != null}"
							th:src="@{/download/} + ${noticia.foto.id} + '?salvar=false'" class="card-img-top"
							alt="...">
						<div class="card-body">
							<h5 class="card-title" th:text="${noticia.titulo}"></h5>
							<p class="card-text" style="text-align: justify;" th:text="${noticia.texto}"></p>
						</div>

					</div>
				</div>

				<div class="col-lg-3">
					<div class="card mb-2" th:each="n : ${noticias}" th:if="${n.id != noticia.id}">
						<a th:href="${n.id}">
							<img th:if="${n.foto.id != null}" th:src="@{/download/} + ${n.foto.id} + '?salvar=false'"
								class="card-img-top img-outra-noticia" alt="..."></a>
						<div class="card-body">
							<a class="text-decoration-none" th:href="${n.id}">
								<h5 class="card-title" th:text="${n.titulo}"></h5>
							</a>
							<p class="card-text" style="text-align: justify;" th:text="${n.texto}" name="texto_noticia">
							</p>
						</div>
					</div>

					<script>
						function limitarCaracteres() {
							let textos = document.getElementsByName("texto_noticia");

							Array.prototype.map.call(textos, (texto) => {
								texto.innerText = texto.innerText.slice(0, 80).trim() + "...";
							});
						}

						limitarCaracteres();
					</script>
				</div>
			</div>
		</div>
	</section>

</body>

</html>